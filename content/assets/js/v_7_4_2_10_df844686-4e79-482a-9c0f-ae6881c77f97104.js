import{j as e,b0 as h,X as C,Y as k,Z as E,U as P,V as f}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9710.js";import{a as p}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f974.js";import{c as A}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9746.js";import{u as j}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9727.js";import{r as b,o as S}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9723.js";import{W as g,V as M}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9718.js";import{u as x}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9719.js";import{a as z}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9760.js";import{a as N}from"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97108.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f978.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f975.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f977.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9721.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f979.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9747.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f976.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97105.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97125.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9728.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9741.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9738.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97106.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f97107.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f9737.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f972.js";import"./v_7_4_2_10_df844686-4e79-482a-9c0f-ae6881c77f973.js";function v({nt:a}){const{setNotificacoes_boxVisible:t,isBoxVisible:n}=b(),{language:c}=x(),o=r=>{r.stopPropagation(),r.preventDefault(),window.open(a.link,"_blank")};return e.jsxs("div",{className:"border border-base-200 p-2 rounded-lg w-full cursor-pointer hoverShadown",style:{borderStyle:"outset"},onClick:r=>{r.stopPropagation(),r.preventDefault(),t(a.id)},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"relative -top-2 right-1 flex",children:[!n(a.id)&&e.jsx("span",{className:"m-auto",children:e.jsx(h,{className:"w-2 h-2 text-[var(--primaria)]"})}),a.type==="INFO"&&e.jsx(C,{className:"h-8 w-8 text-blue-500"}),a.type==="ALERT"&&e.jsx(k,{className:"h-8 w-8 text-red-500"}),a.type==="PROMOTION"&&e.jsx(E,{className:"h-8 w-8 text-yellow-500"})]}),e.jsx("span",{className:"text-xs",children:P.MillisToFormattedDate(a.data)})]}),e.jsx("h2",{className:"text-center text-lg font-medium -mt-4",children:a.title}),e.jsx("div",{className:"pb-2",children:e.jsx("p",{className:"py-4",dangerouslySetInnerHTML:{__html:a.statement.replace(/\_(.*?)\_/g,'<strong class="italic">$1</strong>').replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}})}),a.link&&e.jsx("div",{className:"relative",children:e.jsx("span",{onClick:o,children:e.jsxs("a",{className:"absolute right-0 bottom-[-2px] link flex gap-1 items-center text-[var(--primaria)]",target:"_blank",children:[e.jsx(z,{strokeWidth:3,className:"h-5 w-5 text-[var(--primaria)]"}),a.btnName.length!==0?a.btnName:c.cliqueAqui]})})})]},a.id)}function T(){const{renderNotificacoes_box:a}=b();return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:a().map(n=>e.jsx(v,{nt:n}))})}function F(){const{notifications:a,setNotifications:t}=j(),{getCaixaDeEntrada:n}=A(),{open:c}=S(),o=s=>{const l=[...a];for(let d=0;d<l.length;d++)l[d].id===s&&(l[d].read=!0);t(l)},r=(s,l)=>{s.stopPropagation();const w=[...a].filter(y=>y.id!==l);t(w)},i=s=>{g.Chat("openChatBottom",s.user_id)},m=s=>e.jsxs("div",{className:"flex justify-start hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg w-full",onClick:()=>i(s),style:{borderStyle:"outset"},children:[!s.read&&e.jsx("span",{className:"flex items-center pr-1",children:e.jsx(h,{className:"w-2 h-2 text-[var(--primaria)]"})}),e.jsxs("div",{className:"flex flex-col gap-2",onClick:()=>s.read?null:o(s.id),children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:s.title}),e.jsxs("span",{className:"text-xs",children:[s.date," at ",s.time]})]}),e.jsx("div",{className:"flex justify-end items-center w-full",onClick:d=>r(d,s.id),children:e.jsx("span",{className:"pulse",children:e.jsx(N,{className:"w-5 h-5"})})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:n().map(s=>s.viewer?e.jsx(v,{nt:s}):s.timeOut?m(s):null)})})}function _(){const{notifications:a,setNotifications:t}=j(),n=(i,m)=>{i.stopPropagation();const s=[...a].filter(l=>l.id!==m);t(s)},c=i=>{g.Chat("openChatBottom",i.user_id)},o=i=>e.jsxs("div",{className:"flex justify-between hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg",style:{borderStyle:"outset"},onClick:()=>c(i),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:i.title}),e.jsxs("span",{className:"text-[12px]",children:[i.date," at ",i.time]})]}),e.jsx("div",{className:"flex justify-center items-center pulse",onClick:u=>n(u,i.id),children:e.jsx(N,{className:"w-5 h-5"})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:a.slice().reverse().map(i=>i.timeOut?null:o(i))})})}function D(){const{language:a,idioma:t}=x(),n={pt:["Melhorias e correções na identificação e atribuição de @lid","Correção no auto atendimento para chats vinculados a @lid","Atualização no layout das funcionalidades de chat, agora é possível ocultar aquelas que você não deseja utilizar","Aprimoramento no rastreamento dos Correios, com novo site integrado para maior praticidade e confiabilidade","Correção do bug ao salvar contatos no Google","Correção da caixa de seleção de texto ao editar uma mensagem"],en:["Improvements and fixes in @lid identification and assignment","Fixed auto-service for chats linked to @lid","Updated chat features layout — you can now hide the ones you don't want to use","Enhanced postal tracking with a new integrated site for greater convenience and reliability","Fixed bug when saving contacts to Google","Fixed text selection box when editing a message"],es:["Mejoras y correcciones en la identificación y asignación de @lid","Corrección en el autoservicio para chats vinculados a @lid","Actualización en el diseño de las funciones de chat: ahora es posible ocultar las que no desees utilizar","Mejora en el seguimiento de Correos, con un nuevo sitio integrado para mayor comodidad y fiabilidad","Corrección del error al guardar contactos en Google","Corrección de la caja de selección de texto al editar un mensaje"]};return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsxs("div",{className:"border border-base200 p-2 rounded-lg w-full",style:{borderStyle:"outset"},children:[e.jsxs(f,{children:[a.atualizacao," ",M.version]}),e.jsx("div",{className:"pt-2",children:e.jsx("ul",{style:{listStyle:"inside"},children:n[t].map((o,r)=>e.jsx("li",{className:"marker:text-[var(--primaria)] text-sm",children:o},r))})})]})})}function le(){const[a,t]=p.useState("Entrada"),[n,c]=p.useState(e.jsx(e.Fragment,{})),{language:o}=x();p.useEffect(()=>{switch(a){case"Comunicado":c(e.jsx(T,{}));break;case"Atualizacao":c(e.jsx(D,{}));break;case"Pendentes":c(e.jsx(_,{}));break;case"Entrada":default:c(e.jsx(F,{}));break}},[a]);const r=e.jsx("header",{children:e.jsxs("div",{className:"tabs tabs-bordered",children:[e.jsxs("label",{className:"tab "+(a==="Entrada"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Entrada",children:[e.jsx("span",{children:"Inbox"}),e.jsx("input",{id:"Entrada",type:"checkbox",checked:a==="Entrada",onChange:()=>t("Entrada"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Comunicado"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Comunicado",children:[e.jsx("span",{children:o.comunicado}),e.jsx("input",{id:"Comunicado",type:"checkbox",checked:a==="Comunicado",onChange:()=>t("Comunicado"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Atualizacao"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Atualizacao",children:[e.jsx("span",{children:o.atualizacoes}),e.jsx("input",{id:"Atualizacao",type:"checkbox",checked:a==="Atualizacao",onChange:()=>t("Atualizacao"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Pendentes"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Pendentes",children:[e.jsx("span",{children:o.notificacoesPendentes}),e.jsx("input",{id:"Pendentes",type:"checkbox",checked:a==="Pendentes",onChange:()=>t("Pendentes"),className:"hidden"})]})]})});return e.jsxs("div",{children:[e.jsx(f,{children:o.notifications}),e.jsxs("div",{className:"px-2 pt-2",children:[r,n]})]})}export{le as default};
